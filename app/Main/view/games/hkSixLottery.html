<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="__STATIC__/common/css/sixLottery.css">
    <link rel="stylesheet" href="__STATIC__/layui/css/layui.css">
    <link rel="stylesheet" href="__STATIC__/common/css/common.css">
    <title>{$type}</title>
</head>
<body>
    <div class="main-box">
        <div class="main-header">
            <div class="header-logo">
                <img src="__STATIC__/common/images/logo.png" alt="" style="height: 100%">
            </div>
            {notempty name="lastLotteryInfo"}
            <div class="six-lottery">
                <div class="lottery-info">
                    <sapn>{$type}</sapn>
                    <p><span>{$lastLotteryInfo.periods}</span>期开奖</p>
                </div>
                <div class="lottery-result">
                    {foreach $lastLotteryInfo.result as $key => $val}
                        {foreach $config['numberConfig'] as $k => $v}
                        {if condition="$v.number == $val"}
                            {if condition="$v.color == 'red'"}
                            <div>
                                <span class="numbers redColor">{$v.number}</span>
                                <p>{$v.chineseZodiac}</p>
                            </div>
                            {/if}
                            {if condition="$v.color == 'blue'"}
                            <div>
                                <span class="numbers blueColor">{$v.number}</span>
                                <p>{$v.chineseZodiac}</p>
                            </div>
                            {/if}
                            {if condition="$v.color == 'green'"}
                            <div>
                                <span class="numbers greenColor">{$v.number}</span>
                                <p>{$v.chineseZodiac}</p>
                            </div>
                            {/if}
                            {if condition="$key != 6"}
                            <i class="layui-icon layui-icon-addition" style="margin: 0 5px"></i>
                            {/if}
                        {/if}
                        {/foreach}
                    {/foreach}
                </div>
            </div>
            {/notempty}
    
            {include file="common/header-menu" /}
        </div>
        
        {include file="common/header-game" /}
        
        <div class="game-item">
            <div class="typeList">
                <a href="/main/game/sixLottery?type={$type}&t=A" class="layui-btn layui-btn-sm layui-btn-normal">A</a>
                <a href="/main/game/sixLottery?type={$type}&t=B" class="layui-btn layui-btn-sm layui-btn-normal">B</a>
                <a href="/main/game/sixLottery?type={$type}&t=C" class="layui-btn layui-btn-sm layui-btn-normal">C</a>
                <a href="/main/game/sixLottery?type={$type}&t=D" class="layui-btn layui-btn-sm layui-btn-normal">D</a>
            </div>
            <ul>
                <li>
                    <span class="game-item-selected">特码</span>
                </li>
                <li>
                    <span>色波</span>
                </li>
                <li>
                    <span>特肖</span>
                </li>
                <li>
                    <span>连码</span>
                </li>
                <li>
                    <span>两面</span>
                </li>
                <li>
                    <span>合肖</span>
                </li>
                <li>
                    <span>特头尾</span>
                </li>
                <li>
                    <span>正码</span>
                </li>
                <li>
                    <span>正特码</span>
                </li>
                <li>
                    <span>正码1-6</span>
                </li>
                <li>
                    <span>自选不中</span>
                </li>
            </ul>
        </div>
        <div class="main-body">
            {include file="common/main-body-side" /}
            <div class="main-body-content">
                <div class="content-main">
                    <div class="content-item">
                        <div class="content-item-header">
                            <div class="content-item-header-left">
                                {$type}  -  特码
                            </div>
                            <div class="content-item-header-right">
                                {$lotteryInfo.periods} 期
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                距离封盘：<span class="layui-badge-rim thisCloseTime"></span>
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                距离开奖：<span class="layui-badge-rim thisOpenTime"></span>
                            </div>
                        </div>
                        
                        <div class="content-item-table layui-form">
                            <table>
                                <thead>
                                <tr>
                                    <th>号码</th>
                                    <th>赔率</th>
                                    <th>金额</th>
                                    <th>号码</th>
                                    <th>赔率</th>
                                    <th>金额</th>
                                    <th>号码</th>
                                    <th>赔率</th>
                                    <th>金额</th>
                                    <th>号码</th>
                                    <th>赔率</th>
                                    <th>金额</th>
                                    <th>号码</th>
                                    <th>赔率</th>
                                    <th>金额</th>
                                </tr>
                                </thead>
                                <tbody>
                                {foreach $numberList as $key => $value}
                                <tr>
                                    {foreach $value as $k => $v}
                                    <td class="number">
                                        {if condition="$v.color == 'red'"}
                                        <span class="numbers redColor">{$v.number}</span>
                                        {elseif $v.color == 'blue' /}
                                        <span class="numbers blueColor">{$v.number}</span>
                                        {else /}
                                        <span class="numbers greenColor">{$v.number}</span>
                                        {/if}
                                    </td>
                                    <td class="odds">{$v.odds}</td>
                                    <td class="amount">
                                        <input type="text" name="number-{$v.number}" placeholder="金额">
                                    </td>
                                    {/foreach}
                                </tr>
                                {/foreach}
                                </tbody>
                            </table>
                            <div class="layui-form-item" style="margin-top: 20px">
                                <button class="layui-btn" lay-submit lay-filter="numberSubmit">立即提交</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="content-item">
                        <div class="content-item-header">
                            <div class="content-item-header-left">
                                {$type}  -  色波
                            </div>
                            <div class="content-item-header-right">
                                {$lotteryInfo.periods} 期
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                距离封盘：<span class="layui-badge-rim thisCloseTime"></span>
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                距离开奖：<span class="layui-badge-rim thisOpenTime"></span>
                            </div>
                        </div>
                        <div class="layui-form">
                            <div class="content-item-table">
                                <table>
                                    <thead>
                                    <tr>
                                        <th style="width: 6%;">色波</th>
                                        <th>号</th>
                                        <th style="width: 7%;">赔率</th>
                                        <th style="width: 15%;">金额</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {foreach $colorNumber[0] as $k => $item}
                                    <tr>
                                        <td class="name">{$item.type}</td>
                                        <td class="numberList">
                                            {if $k ==  0}
                                            {foreach $config['numberConfig'] as $key => $v}
                                            {if condition="$v.color == 'red'"}
                                            <span class="numbers redColor">{$v.number}</span>
                                            {/if}
                                            {/foreach}
                                            {/if}
                    
                                            {if $k ==  1}
                                            {foreach $config['numberConfig'] as $key => $v}
                                            {if condition="$v.color == 'blue'"}
                                            <span class="numbers blueColor">{$v.number}</span>
                                            {/if}
                                            {/foreach}
                                            {/if}
                    
                                            {if $k ==  2}
                                            {foreach $config['numberConfig'] as $key => $v}
                                            {if condition="$v.color == 'green'"}
                                            <span class="numbers greenColor">{$v.number}</span>
                                            {/if}
                                            {/foreach}
                                            {/if}
                                        </td>
                                        <td class="odds">
                                            {$item.odds}
                                        </td>
                                        <td class="amount">
                                            <input type="text" name="color-{$item.type}" placeholder="金额">
                                        </td>
                                    </tr>
                                    {/foreach}
                                    </tbody>
                                </table>
    
                            </div>
    
                            <div class="content-item-table">
                                <table>
                                    <thead>
                                    <tr>
                                        <th style="width: 10%">半波</th>
                                        <th>赔率</th>
                                        <th>金额</th>
                                        <th style="width: 10%">半波</th>
                                        <th>赔率</th>
                                        <th>金额</th>
                                        <th style="width: 10%">半波</th>
                                        <th>赔率</th>
                                        <th>金额</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {foreach $colorNumber as $key => $val}
                                    {if condition="$key != 0"}
                                    <tr>
                                        {foreach $val as $k => $v}
                                        <td class="name">{$v.type}</td>
                                        <td class="odds">{$v.odds}</td>
                                        <td class="amount">
                                            <input type="text" name="color-{$v.type}" placeholder="金额">
                                        </td>
                                        {/foreach}
                                    </tr>
                                    {/if}
                                    {/foreach}
                                    </tbody>
                                </table>
    
                            </div>
                            
                            <div class="layui-form-item" style="margin-top: 20px">
                                <button class="layui-btn" lay-submit lay-filter="colorSubmit">立即提交</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="content-item">
                        <div class="content-item-header">
                            <div class="content-item-header-left">
                                {$type}  -  特肖
                            </div>
                            <div class="content-item-header-right">
                                {$lotteryInfo.periods} 期
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                距离封盘：<span class="layui-badge-rim thisCloseTime"></span>
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                距离开奖：<span class="layui-badge-rim thisOpenTime"></span>
                            </div>
                        </div>
    
                        <div class="content-item-table layui-form">
                            <table>
                                <thead>
                                <tr>
                                    <th>生肖</th>
                                    <th style="width: 20%;">号码</th>
                                    <th>赔率</th>
                                    <th style="width: 15%;">金额</th>
                                    <th>生肖</th>
                                    <th style="width: 20%;">号码</th>
                                    <th>赔率</th>
                                    <th style="width: 15%;">金额</th>
                                </tr>
                                </thead>
                                <tbody>
                                {foreach $chineseZodiac as $key => $val}
                                <tr>
                                    {foreach $val as $k => $v}
                                    <td class="name">{$v.type}</td>
                                    <td class="numberList">
                                        {foreach $config['numberConfig'] as $ke => $number}
                                        {if condition="$number.chineseZodiac == $v.type"}
                                        {if condition="$number.color == 'blue'"}
                                        <span class="numbers blueColor">{$number.number}</span>
                                        {/if}
                                        {if condition="$number.color == 'red'"}
                                        <span class="numbers redColor">{$number.number}</span>
                                        {/if}
                                        {if condition="$number.color == 'green'"}
                                        <span class="numbers greenColor">{$number.number}</span>
                                        {/if}
                                        {/if}
                                        {/foreach}
                                    </td>
                                    <td class="odds">{$v.odds}</td>
                                    <td class="amount">
                                        <input type="text" name="chineseZodiac-{$v.type}" placeholder="金额">
                                    </td>
                                    {/foreach}
                                </tr>
                                {/foreach}
                                </tbody>
                            </table>
                            <div class="layui-form-item" style="margin-top: 20px">
                                <button class="layui-btn" lay-submit lay-filter="chineseZodiacSubmit">立即提交</button>
                            </div>
                        </div>
                    </div>
    
                    <div class="content-item">
                        <div class="content-item-header">
                            <div class="content-item-header-left">
                                {$type}  -  连码
                            </div>
                            <div class="content-item-header-right">
                                {$lotteryInfo.periods} 期
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                距离封盘：<span class="layui-badge-rim thisCloseTime"></span>
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                距离开奖：<span class="layui-badge-rim thisOpenTime"></span>
                            </div>
                        </div>
                        <div class="layui-form">
                            <div class="content-item-table">
                                <table>
                                    <thead>
                                    <tr>
                                        {foreach $config['joinNumberConfig'] as $key => $val}
                                        <th>
                                            <input type="radio" name="type" value="{$val.inputNumber}" joinType="{$val.type}" lay-filter="type">
                                        </th>
                                        {/foreach}
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        {foreach $config['joinNumberConfig'] as $key => $val}
                                        <td class="name">{$val.type}</td>
                                        {/foreach}
                                    </tr>
                                    <tr>
                                        {foreach $config['joinNumberConfig'] as $key => $val}
                                        <td class="odds">{$val.odds}</td>
                                        {/foreach}
                                    </tr>
                                    </tbody>
                                </table>
        
                            </div>
    
                            <div class="content-item-table">
                                <table>
                                    <thead>
                                    <tr>
                                        <th>号码</th>
                                        <th>勾选</th>
                                        <th>号码</th>
                                        <th>勾选</th>
                                        <th>号码</th>
                                        <th>勾选</th>
                                        <th>号码</th>
                                        <th>勾选</th>
                                        <th>号码</th>
                                        <th>勾选</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {foreach $numberList as $key => $value}
                                    <tr>
                                        {foreach $value as $k => $v}
                                        <td class="number">
                                            {if condition="$v.color == 'red'"}
                                            <span class="numbers redColor">{$v.number}</span>
                                            {elseif $v.color == 'blue' /}
                                            <span class="numbers blueColor">{$v.number}</span>
                                            {else /}
                                            <span class="numbers greenColor">{$v.number}</span>
                                            {/if}
                                        </td>
                                        <td class="odds">
                                            <input type="checkbox"  name="numbers" value="{$v.number}" lay-filter="numbers" lay-skin="primary">
                                        </td>
                                        {/foreach}
                                    </tr>
                                    {/foreach}
                                    </tbody>
                                </table>
                            </div>
    
                            <div class="layui-form-item" style="margin-top: 20px;display: flex">
                                <label class="layui-form-label">下注金额：</label>
                                <div class="layui-input-inline">
                                    <input type="text" name="money" placeholder="下注金额" autocomplete="off" class="layui-input">
                                </div>
                                <button class="layui-btn" lay-submit lay-filter="joinNumberSubmit">立即提交</button>
                            </div>
                        </div>
                    </div>
    
                    <div class="content-item">
                        <div class="content-item-header">
                            <div class="content-item-header-left">
                                {$type}  -  两面
                            </div>
                            <div class="content-item-header-right">
                                {$lotteryInfo.periods} 期
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                距离封盘：<span class="layui-badge-rim thisCloseTime"></span>
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                距离开奖：<span class="layui-badge-rim thisOpenTime"></span>
                            </div>
                        </div>
    
                        <div class="layui-form">
                            <div class="content-item-table">
                                <table>
                                    <thead>
                                    <tr>
                                        <th style="width: 10%">两面</th>
                                        <th>赔率</th>
                                        <th>金额</th>
                                        <th style="width: 10%">两面</th>
                                        <th>赔率</th>
                                        <th>金额</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {foreach $twoFace as $key => $val}
                                    {if condition="$key != 0"}
                                    <tr>
                                        {foreach $val as $k => $v}
                                        <td class="name">{$v.type}</td>
                                        <td class="odds">{$v.odds}</td>
                                        <td class="amount">
                                            <input type="text" name="color-{$v.type}" placeholder="金额">
                                        </td>
                                        {/foreach}
                                    </tr>
                                    {/if}
                                    {/foreach}
                                    </tbody>
                                </table>
        
                            </div>
        
                            <div class="layui-form-item" style="margin-top: 20px">
                                <button class="layui-btn" lay-submit lay-filter="twoFaceSubmit">立即提交</button>
                            </div>
                        </div>
                    </div>
    
                    <div class="content-item">
                        <div class="content-item-header">
                            <div class="content-item-header-left">
                                {$type}  -  合肖
                            </div>
                            <div class="content-item-header-right">
                                {$lotteryInfo.periods} 期
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                距离封盘：<span class="layui-badge-rim thisCloseTime"></span>
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                距离开奖：<span class="layui-badge-rim thisOpenTime"></span>
                            </div>
                        </div>
                        <div class="layui-form">
                            <div class="content-item-table">
                                <table>
                                    <thead>
                                    <tr>
                                        <th style="width: 10%">生肖</th>
                                        <th>号码</th>
                                        <th>勾选</th>
                                        <th style="width: 10%">生肖</th>
                                        <th>号码</th>
                                        <th>勾选</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {foreach $chineseZodiac as $key => $val}
                                    <tr>
                                        {foreach $val as $k => $v}
                                        <td class="name">{$v.type}</td>
                                        <td class="numberList">
                                            {foreach $config['numberConfig'] as $ke => $number}
                                            {if condition="$number.chineseZodiac == $v.type"}
                                            {if condition="$number.color == 'blue'"}
                                            <span class="numbers blueColor">{$number.number}</span>
                                            {/if}
                                            {if condition="$number.color == 'red'"}
                                            <span class="numbers redColor">{$number.number}</span>
                                            {/if}
                                            {if condition="$number.color == 'green'"}
                                            <span class="numbers greenColor">{$number.number}</span>
                                            {/if}
                                            {/if}
                                            {/foreach}
                                        </td>
                                        <td class="odds">
                                            <input type="checkbox"  name="numbers" value="{$v.type}" lay-filter="andShaw" lay-skin="primary">
                                        </td>
                                        {/foreach}
                                    </tr>
                                    {/foreach}
                                    </tbody>
                                </table>
                            </div>
                            
                            <div class="layui-form">
                                <div class="layui-form-item" style="margin-top: 20px">
                                    <input type="text" name="money" required lay-verify="required" placeholder="请输入下注金额" autocomplete="off" class="layui-input">
                                </div>
                                <div class="layui-form-item" style="margin-top: 20px">
                                    <button class="layui-btn" lay-submit lay-filter="andShawSubmit">立即提交</button>
                                </div>
                            </div>
                        </div>
                    </div>
    
                    <div class="content-item">
                        <div class="content-item-header">
                            <div class="content-item-header-left">
                                {$type}  -  特头尾
                            </div>
                            <div class="content-item-header-right">
                                {$lotteryInfo.periods} 期
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                距离封盘：<span class="layui-badge-rim thisCloseTime"></span>
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                距离开奖：<span class="layui-badge-rim thisOpenTime"></span>
                            </div>
                        </div>
        
                        <div class="content-item-table layui-form">
                            <table>
                                <thead>
                                <tr>
                                    <th>类型</th>
                                    <th>赔率</th>
                                    <th style="width: 15%;">金额</th>
                                    <th>类型</th>
                                    <th>赔率</th>
                                    <th style="width: 15%;">金额</th>
                                    <th>类型</th>
                                    <th>赔率</th>
                                    <th style="width: 15%;">金额</th>
                                </tr>
                                </thead>
                                <tbody>
                                {foreach $headAndEnd as $key => $val}
                                <tr>
                                    {foreach $val as $k => $v}
                                    <td class="name">{$v.type}</td>
                                    <td class="odds">{$v.odds}</td>
                                    <td class="amount">
                                        <input type="text" name="headAndEnd-{$v.type}" placeholder="金额">
                                    </td>
                                    {/foreach}
                                </tr>
                                {/foreach}
                                </tbody>
                            </table>
                            <div class="layui-form-item" style="margin-top: 20px">
                                <button class="layui-btn" lay-submit lay-filter="headAndEndSubmit">立即提交</button>
                            </div>
                        </div>
                    </div>
    
                    <div class="content-item">
                        <div class="content-item-header">
                            <div class="content-item-header-left">
                                {$type}  -  正码
                            </div>
                            <div class="content-item-header-right">
                                {$lotteryInfo.periods} 期
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                距离封盘：<span class="layui-badge-rim thisCloseTime"></span>
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                距离开奖：<span class="layui-badge-rim thisOpenTime"></span>
                            </div>
                        </div>
        
                        <div class="content-item-table layui-form">
                            <table>
                                <thead>
                                <tr>
                                    <th>号码</th>
                                    <th>赔率</th>
                                    <th>金额</th>
                                    <th>号码</th>
                                    <th>赔率</th>
                                    <th>金额</th>
                                    <th>号码</th>
                                    <th>赔率</th>
                                    <th>金额</th>
                                    <th>号码</th>
                                    <th>赔率</th>
                                    <th>金额</th>
                                    <th>号码</th>
                                    <th>赔率</th>
                                    <th>金额</th>
                                </tr>
                                </thead>
                                <tbody>
                                {foreach $orthoCode as $key => $value}
                                <tr>
                                    {foreach $value as $k => $v}
                                    <td class="number">
                                        {if condition="$numberList[$key][$k]['color'] == 'red'"}
                                        <span class="numbers redColor">{$v.number}</span>
                                        {elseif $numberList[$key][$k]['color'] == 'blue' /}
                                        <span class="numbers blueColor">{$v.number}</span>
                                        {else /}
                                        <span class="numbers greenColor">{$v.number}</span>
                                        {/if}
                                    </td>
                                    <td class="odds">{$v.odds}</td>
                                    <td class="amount">
                                        <input type="text" name="number-{$v.number}" placeholder="金额">
                                    </td>
                                    {/foreach}
                                </tr>
                                {/foreach}
                                </tbody>
                            </table>
                            <div class="layui-form-item" style="margin-top: 20px">
                                <button class="layui-btn" lay-submit lay-filter="orthoCodeSubmit">立即提交</button>
                            </div>
                        </div>
                    </div>
    
                    <div class="content-item">
                        <div class="content-item-header">
                            <div class="content-item-header-left">
                                {$type}  -  正码特
                            </div>
                            <div class="content-item-header-right">
                                {$lotteryInfo.periods} 期
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                距离封盘：<span class="layui-badge-rim thisCloseTime"></span>
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                距离开奖：<span class="layui-badge-rim thisOpenTime"></span>
                            </div>
                        </div>
                        
                        <div class="content-item-table layui-form">
                            <div class="layui-tab layui-tab-brief" lay-filter="docDemoTabBrief">
                                <ul class="layui-tab-title">
                                    <li class="layui-this" lay-id="1">正码特一</li>
                                    <li lay-id="2">正码特二</li>
                                    <li lay-id="3">正码特三</li>
                                    <li lay-id="4">正码特四</li>
                                    <li lay-id="5">正码特五</li>
                                    <li lay-id="6">正码特六</li>
                                </ul>
    
                                <div class="layui-tab-content">
                                    {foreach $orthoTema as $ks => $vs}
                                    {if condition="$ks == 'orthoTema1'"}
                                    <div class="layui-tab-item layui-show">
                                        <table>
                                            <thead>
                                            <tr>
                                                <th>号码</th>
                                                <th>赔率</th>
                                                <th>金额</th>
                                                <th>号码</th>
                                                <th>赔率</th>
                                                <th>金额</th>
                                                <th>号码</th>
                                                <th>赔率</th>
                                                <th>金额</th>
                                                <th>号码</th>
                                                <th>赔率</th>
                                                <th>金额</th>
                                                <th>号码</th>
                                                <th>赔率</th>
                                                <th>金额</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            {foreach $vs as $key => $value}
                                            <tr>
                                                {foreach $value as $k => $v}
                                                <td class="number">
                                                    {if condition="$numberList[$key][$k]['color'] == 'red'"}
                                                    <span class="numbers redColor">{$v.number}</span>
                                                    {elseif $numberList[$key][$k]['color'] == 'blue' /}
                                                    <span class="numbers blueColor">{$v.number}</span>
                                                    {else /}
                                                    <span class="numbers greenColor">{$v.number}</span>
                                                    {/if}
                                                </td>
                                                <td class="odds">{$v.odds}</td>
                                                <td class="amount">
                                                    <input type="text" name="number-{$v.number}-{$ks}" placeholder="金额">
                                                </td>
                                                {/foreach}
                                            </tr>
                                            {/foreach}
                                            </tbody>
                                        </table>
                                    </div>
                                    {else/}
                                    <div class="layui-tab-item">
                                        <table>
                                            <thead>
                                            <tr>
                                                <th>号码</th>
                                                <th>赔率</th>
                                                <th>金额</th>
                                                <th>号码</th>
                                                <th>赔率</th>
                                                <th>金额</th>
                                                <th>号码</th>
                                                <th>赔率</th>
                                                <th>金额</th>
                                                <th>号码</th>
                                                <th>赔率</th>
                                                <th>金额</th>
                                                <th>号码</th>
                                                <th>赔率</th>
                                                <th>金额</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            {foreach $vs as $key => $value}
                                            <tr>
                                                {foreach $value as $k => $v}
                                                <td class="number">
                                                    {if condition="$numberList[$key][$k]['color'] == 'red'"}
                                                    <span class="numbers redColor">{$v.number}</span>
                                                    {elseif $numberList[$key][$k]['color'] == 'blue' /}
                                                    <span class="numbers blueColor">{$v.number}</span>
                                                    {else /}
                                                    <span class="numbers greenColor">{$v.number}</span>
                                                    {/if}
                                                </td>
                                                <td class="odds">{$v.odds}</td>
                                                <td class="amount">
                                                    <input type="text" name="number-{$v.number}-{$ks}" placeholder="金额">
                                                </td>
                                                {/foreach}
                                            </tr>
                                            {/foreach}
                                            </tbody>
                                        </table>
                                    </div>
                                    {/if}
                                    {/foreach}
                                </div>
                            </div>
                            
                            <div class="layui-form-item" style="margin-top: 20px">
                                <button class="layui-btn" lay-submit lay-filter="orthoTemaSubmit">立即提交</button>
                            </div>
                        </div>
                    </div>
    
                    <div class="content-item">
                        <div class="content-item-header">
                            <div class="content-item-header-left">
                                {$type}  -  正码1-6
                            </div>
                            <div class="content-item-header-right">
                                {$lotteryInfo.periods} 期
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                距离封盘：<span class="layui-badge-rim thisCloseTime"></span>
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                距离开奖：<span class="layui-badge-rim thisOpenTime"></span>
                            </div>
                        </div>
        
                        <div class="content-item-table layui-form">
                            <div style="display: flex">
                                {foreach $orthoCode1And6 as $ks => $vs}
                                <div class="items" style="margin-right: 5px;">
                                    {switch $ks}
                                        {case orthoTema1}<div class="titels">正码一</div>{/case}
                                        {case orthoTema2}<div class="titels">正码二</div>{/case}
                                        {case orthoTema3}<div class="titels">正码三</div>{/case}
                                        {case orthoTema4}<div class="titels">正码四</div>{/case}
                                        {case orthoTema5}<div class="titels">正码五</div>{/case}
                                        {case orthoTema6}<div class="titels">正码六</div>{/case}
                                    {/switch}
                                    <table>
                                        <thead>
                                        <tr>
                                            <th>类型</th>
                                            <th>赔率</th>
                                            <th style="width: 35%;">金额</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        {foreach $vs as $key => $v}
                                        <tr>
                                            <td class="name">{$v.type}</td>
                                            <td class="odds">{$v.odds}</td>
                                            <td class="amount">
                                                <input type="text" name="orthoCode1And6-{$v.type}-{$ks}" placeholder="金额">
                                            </td>
                                        </tr>
                                        {/foreach}
                                        </tbody>
                                    </table>
                                </div>
                                {/foreach}
                            </div>
                            <div class="layui-form-item" style="margin-top: 20px">
                                <button class="layui-btn" lay-submit lay-filter="orthoCode1And6Submit">立即提交</button>
                            </div>
                        </div>
                    </div>
    
                    <div class="content-item">
                        <div class="content-item-header">
                            <div class="content-item-header-left">
                                {$type}  -  自选不中
                            </div>
                            <div class="content-item-header-right">
                                {$lotteryInfo.periods} 期
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                距离封盘：<span class="layui-badge-rim thisCloseTime"></span>
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                距离开奖：<span class="layui-badge-rim thisOpenTime"></span>
                            </div>
                        </div>
                        <div class="layui-form">
                            <div class="content-item-table">
                                <table>
                                    <thead>
                                    <tr>
                                        {foreach $config['selectNotWinConfig'] as $key => $val}
                                        <th>
                                            <input type="radio" name="type" value="{$val.inputNumber}" joinType="{$val.type}" lay-filter="type">
                                        </th>
                                        {/foreach}
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        {foreach $config['selectNotWinConfig'] as $key => $val}
                                        <td class="name">{$val.type}</td>
                                        {/foreach}
                                    </tr>
                                    <tr>
                                        {foreach $config['selectNotWinConfig'] as $key => $val}
                                        <td class="odds">{$val.odds}</td>
                                        {/foreach}
                                    </tr>
                                    </tbody>
                                </table>
            
                            </div>
            
                            <div class="content-item-table">
                                <table>
                                    <thead>
                                    <tr>
                                        <th>号码</th>
                                        <th>勾选</th>
                                        <th>号码</th>
                                        <th>勾选</th>
                                        <th>号码</th>
                                        <th>勾选</th>
                                        <th>号码</th>
                                        <th>勾选</th>
                                        <th>号码</th>
                                        <th>勾选</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {foreach $numberList as $key => $value}
                                    <tr>
                                        {foreach $value as $k => $v}
                                        <td class="number">
                                            {if condition="$v.color == 'red'"}
                                            <span class="numbers redColor">{$v.number}</span>
                                            {elseif $v.color == 'blue' /}
                                            <span class="numbers blueColor">{$v.number}</span>
                                            {else /}
                                            <span class="numbers greenColor">{$v.number}</span>
                                            {/if}
                                        </td>
                                        <td class="odds">
                                            <input type="checkbox"  name="numbers" value="{$v.number}" lay-filter="numbers" lay-skin="primary">
                                        </td>
                                        {/foreach}
                                    </tr>
                                    {/foreach}
                                    </tbody>
                                </table>
                            </div>
            
                            <div class="layui-form-item" style="margin-top: 20px;display: flex">
                                <label class="layui-form-label">下注金额：</label>
                                <div class="layui-input-inline">
                                    <input type="text" name="money" placeholder="下注金额" autocomplete="off" class="layui-input">
                                </div>
                                <button class="layui-btn" lay-submit lay-filter="selectNotWinSubmit">立即提交</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="affirmOrderBox" style="display: none">
        <div style="padding: 15px">
            <table class="layui-table">
                <thead>
                <tr>
                    <th>序号</th>
                    <th>类型</th>
                    <th>明细</th>
                    <th>下注金额</th>
                    <th>操作</th>
                </tr>
                </thead>
                <tbody class="affirmOrderTd">
                </tbody>
            </table>
            <div class="footer-btn">
                <button class="layui-btn submitData layui-btn-sm">确认提交</button>
                <button type="reset" class="layui-btn layui-btn-primary layui-btn-sm">取消</button>
            </div>
        </div>
    </div>
</body>
</html>

<script src="__STATIC__/layui/layui.js"></script>
<script>
    let gameId = '{$gameInfo.id}';
    let timeNumber = '{$lotteryInfo.id}'
    let openTime = '{$lotteryInfo.lottery_time}'
    let closeTime = '{$lotteryInfo.end_time}'
    let gameType = '{$gameType}'
    layui.use(['layer', 'form', 'element'], function() {
        let $ = layui.$, layer = layui.layer, form = layui.form, element = layui.element;
        let tabOrthoCode1And6 = 1;
        let submitData = [];

        element.on('tab(docDemoTabBrief)', function(){
            tabOrthoCode1And6 = this.getAttribute('lay-id');
        });

        $('.game-item>ul>li').each(function(index, value) {
            $(value).on('click', function(){
                $(this).find('span').addClass('game-item-selected')
                $(this).siblings().find('span').removeClass('game-item-selected')
                $('.content-item').eq(index).show().siblings().hide();
            })
        })

        function countDown(time, isOpen = false) {
            let nowTime = +new Date(); // 返回的是当前时间总的毫秒数
            let inputTime = +new Date(time); // 返回的是用户输入时间总的毫秒数
            let times = (inputTime - nowTime) / 1000; // times是剩余时间总的秒数
            if (times < 0) {
                if (isOpen) {
                    location.reload();
                    return "已开奖"
                } else {
                    return "已封盘"
                }
            }
            let m = parseInt(times / 60); // 分
            m = m < 10 ? '0' + m : m;
            let s = parseInt(times % 60); // 当前的秒
            s = s < 10 ? '0' + s : s;
            return m + '分' + s + '秒';
        }
        
        // 设置距离开奖时间
        setInterval(function() {
            let thisOpenTime = countDown(openTime, true)
            let thisCloseTime = countDown(closeTime)
            $('.thisOpenTime').html(thisOpenTime);
            $('.thisCloseTime').html(thisCloseTime);
        }, 1000)

        function affirmOrder(data) {
            let submitParam = []
            for (let item in data) {
                if (data[item] != "") {
                    let type = item.split("-")
                    let param = {}
                    param.type = type[1]
                    param.money = data[item]
                    if (type[2]) {
                        param.conf = type[2]
                    }
                    submitParam.push(param)
                }
            }
            submitData = submitParam
            return submitParam
        }

        function openElement(elements, type) {
            let content = $('#affirmOrderBox').html();
            layer.open({
                title: "下注确认",
                type: 1,
                skin: 'layui-layer-demo',
                closeBtn: 1,
                anim: 2,
                shadeClose: true,
                area: ['600px', '400px'],
                content: content,
                success: function(){
                    $('.layui-layer-content').find('.affirmOrderTd').append(elements)

                    $('.layui-layer-content').find('.delDetail').on('click', function(){
                        let thisIndex = $(this).attr("number");
                        submitData.splice(thisIndex, 1);
                        $(this).parents('tr').remove()
                        if (submitData.length == 0) {
                            layer.closeAll();
                            return false;
                        }
                    })

                    $('.layui-layer-content').find('.submitData').on('click', function() {
                        layer.load(1, {shade: [0.3,'#000']});
                        let param = {
                            gameId: gameId,
                            "type": type,
                            param: submitData,
                            'lotteryId': timeNumber,
                            'gameType': gameType
                        }
                        saveData(param);
                    })
                }
            });
        }

        function saveData(param) {
            layer.load(1, {shade: [0.3,'#000']});
            $.post('/main/game/saveOrder',
                param,
                function(resp) {
                    layer.closeAll();
                    if (resp.code != 0) {
                        layer.msg(resp.errors, {icon: 5, shift: 6, time: 1500} );
                        return false;
                    }
                    layer.msg("下注成功，请留意开奖信息", {icon: 1, time: 1500, end: function(){
                            window.location.reload();
                        }});
                }).error(function() {
                layer.closeAll();
                layer.msg("服务器出现异常！", {icon: 5, shift: 6} );
            })
        }

        form.on('submit(numberSubmit)', function(obj) {
            let data = affirmOrder(obj.field)
            if (data.length == 0) {
                layer.msg("请下注后再提交！")
                return false;
            }
            let elements = ""
            $.each(data, function(index, value){
                let number = parseInt(index) + 1
                elements += "<tr>" +
                    "<td>" + number + "</td>" +
                    "<td>特码</td>" +
                    "<td>" + value.type + "</td>" +
                    "<td>" + value.money + "</td>" +
                    "<td><button number='"+index+"' class=\"layui-btn layui-btn-sm layui-btn-danger delDetail\">删除</button></td>" +
                    "</tr>>"
            })
            openElement(elements, "number");
        })

        form.on('submit(colorSubmit)', function(obj){
            let data = affirmOrder(obj.field)
            if (data.length == 0) {
                layer.msg("请下注后再提交！")
                return false;
            }
            let elements = ""
            $.each(data, function(index, value){
                let number = parseInt(index) + 1
                elements += "<tr>" +
                    "<td>" + number + "</td>" +
                    "<td>类型</td>" +
                    "<td>" + value.type + "</td>" +
                    "<td>" + value.money + "</td>" +
                    "<td><button number='"+index+"' class=\"layui-btn layui-btn-sm layui-btn-danger delDetail\">删除</button></td>" +
                    "</tr>>"
            })
            openElement(elements, "colorNumber");
        })

        form.on('submit(chineseZodiacSubmit)', function(obj){
            let data = affirmOrder(obj.field)
            if (data.length == 0) {
                layer.msg("请下注后再提交！")
                return false;
            }
            let elements = ""
            $.each(data, function(index, value){
                let number = parseInt(index) + 1
                elements += "<tr>" +
                    "<td>" + number + "</td>" +
                    "<td>生肖</td>" +
                    "<td>" + value.type + "</td>" +
                    "<td>" + value.money + "</td>" +
                    "<td><button number='"+index+"' class=\"layui-btn layui-btn-sm layui-btn-danger delDetail\">删除</button></td>" +
                    "</tr>>"
            })
            openElement(elements, "chineseZodiacNumber");
        })
        
        let inputNumber =  null;
        let inputNumberList = [];
        let joinType = null;
        form.on('radio(type)', function(data){
            inputNumber = data.value
            joinType = $(data.elem).attr('joinType')
            $('input[name="numbers"]').each(function(index, value) {
                $(value).attr('checked', false)
                inputNumberList = [];
            })
            form.render();
        });

        form.on('checkbox(numbers)', function(data){
            if (inputNumber === null) {
                $(data.elem).attr('checked', false)
                layer.msg("请选择连码类型！")
                form.render('checkbox');
                return false
            }
            
            if (data.elem.checked === false) {
                inputNumberList.forEach(function(value, index) {
                    if (value ==  data.value) {
                        inputNumberList.splice(index, 1)
                    }
                })
                return false
            }
            
            if (inputNumberList.length < inputNumber) {
                inputNumberList.push(data.value)
            } else {
                $(data.elem).attr('checked', false)
                layer.msg("无法继续勾选")
                form.render('checkbox');
            }
        });

        form.on('submit(joinNumberSubmit)', function(obj){
            if (inputNumber === null) {
                layer.msg("请选择连码类型！")
                return false;
            }
            
            if (inputNumberList.length != inputNumber) {
                layer.msg("请勾选连码号码！")
                return false;
            }
            if (obj.field.money == "") {
                layer.msg("请输入下注金额！")
                return false;
            }
            
            let data = affirmOrder(obj.field)
            if (data.length == 0) {
                layer.msg("请下注后再提交！")
                return false;
            }
            let param = {}
            param.type = joinType
            param.money = obj.field.money
            param.value = inputNumberList
            let result = [];
            result.push(param)
            let elements = ""
            submitData = result
            $.each(result, function(index, value){
                let number = parseInt(index) + 1
                elements += "<tr>" +
                    "<td>" + number + "</td>" +
                    "<td>特串</td>" +
                    "<td>"  + value.type + "：" + value.value.join(",") + "</td>" +
                    "<td>" + value.money + "</td>" +
                    "<td><button number='"+index+"' class=\"layui-btn layui-btn-sm layui-btn-danger delDetail\">删除</button></td>" +
                    "</tr>>"
            })
            openElement(elements, "joinNumber");
        })

        form.on('submit(twoFaceSubmit)', function(obj){
            let data = affirmOrder(obj.field)
            if (data.length == 0) {
                layer.msg("请下注后再提交！")
                return false;
            }
            let elements = ""
            $.each(data, function(index, value){
                let number = parseInt(index) + 1
                elements += "<tr>" +
                    "<td>" + number + "</td>" +
                    "<td>两面</td>" +
                    "<td>" + value.type + "</td>" +
                    "<td>" + value.money + "</td>" +
                    "<td><button number='"+index+"' class=\"layui-btn layui-btn-sm layui-btn-danger delDetail\">删除</button></td>" +
                    "</tr>>"
            })
            openElement(elements, "twoFace");
        })
        
        let andShaw = []
        form.on('checkbox(andShaw)', function(obj) {
            if(andShaw.length > 11) {
                // 获取赔率
                $(this).attr('checked', false)
                form.render();
                layer.msg("已超过最大项目数")
                return false;
            }
            andShaw.push(obj.value)
        })
        
        form.on('submit(andShawSubmit)', function(obj) {
            if (andShaw.length < 1) {
                layer.msg("请选择多个生肖")
                return false;
            }

            let porject = {
                "2": "二肖", "3": "三肖", "4":"四肖", "5":"五肖", "6":"六肖", "7": "七肖", "8": "八肖", "9": "九肖", "10": "十肖", "11": "十一肖"
            }
            let elements = "<tr>" +
                "<td>" + 1 + "</td>" +
                "<td>合肖</td>" +
                "<td>"+ porject[andShaw.length] + ":" + andShaw.join(",") +"</td>" +
                "<td>" + obj.field.money + "</td>" +
                "<td><button number='1' class=\"layui-btn layui-btn-sm layui-btn-danger delDetail\">删除</button></td>" +
                "</tr>>"
            let param = {
                type: porject[andShaw.length],
                detail: andShaw.join(','),
                money: obj.field.money
            }
            submitData.push(param)
            openElement(elements, "andShaw");
        })

        form.on('submit(headAndEndSubmit)', function(obj){
            let data = affirmOrder(obj.field)
            if (data.length == 0) {
                layer.msg("请下注后再提交！")
                return false;
            }
            let elements = ""
            $.each(data, function(index, value){
                let number = parseInt(index) + 1
                elements += "<tr>" +
                    "<td>" + number + "</td>" +
                    "<td>特头尾</td>" +
                    "<td>" + value.type + "</td>" +
                    "<td>" + value.money + "</td>" +
                    "<td><button number='"+index+"' class=\"layui-btn layui-btn-sm layui-btn-danger delDetail\">删除</button></td>" +
                    "</tr>>"
            })
            openElement(elements, "headAndEnd");
        })

        form.on('submit(orthoCodeSubmit)', function(obj) {
            let data = affirmOrder(obj.field)
            if (data.length == 0) {
                layer.msg("请下注后再提交！")
                return false;
            }
            let elements = ""
            $.each(data, function(index, value){
                let number = parseInt(index) + 1
                elements += "<tr>" +
                    "<td>" + number + "</td>" +
                    "<td>正码</td>" +
                    "<td>" + value.type + "</td>" +
                    "<td>" + value.money + "</td>" +
                    "<td><button number='"+index+"' class=\"layui-btn layui-btn-sm layui-btn-danger delDetail\">删除</button></td>" +
                    "</tr>>"
            })
            openElement(elements, "orthoCode");
        })

        form.on('submit(orthoTemaSubmit)', function(obj) {
            let data = affirmOrder(obj.field)
            if (data.length == 0) {
                layer.msg("请下注后再提交！")
                return false;
            }
            let elements = ""
            let conf = {
                "orthoTema1": "正马特一", "orthoTema2": "正马特二", "orthoTema3": "正马特三", "orthoTema4": "正马特四",
                "orthoTema5": "正马特五", "orthoTema6": "正马特六",
            }
            $.each(data, function(index, value){
                let number = parseInt(index) + 1
                elements += "<tr>" +
                    "<td>" + number + "</td>" +
                    "<td>正码特</td>" +
                    "<td>" + conf[value.conf] + "：" + value.type + "</td>" +
                    "<td>" + value.money + "</td>" +
                    "<td><button number='"+index+"' class=\"layui-btn layui-btn-sm layui-btn-danger delDetail\">删除</button></td>" +
                    "</tr>>"
            })
            openElement(elements, "orthoTema");
        })

        form.on('submit(orthoCode1And6Submit)', function(obj) {
            let data = affirmOrder(obj.field)
            console.log(data)
            if (data.length == 0) {
                layer.msg("请下注后再提交！")
                return false;
            }
            let elements = ""
            let conf = {
                "orthoTema1": "正马特一", "orthoTema2": "正马特二", "orthoTema3": "正马特三", "orthoTema4": "正马特四",
                "orthoTema5": "正马特五", "orthoTema6": "正马特六",
            }
            $.each(data, function(index, value){
                let number = parseInt(index) + 1
                elements += "<tr>" +
                    "<td>" + number + "</td>" +
                    "<td>正码特1-6</td>" +
                    "<td>" + conf[value.conf] + "：" + value.type + "</td>" +
                    "<td>" + value.money + "</td>" +
                    "<td><button number='"+index+"' class=\"layui-btn layui-btn-sm layui-btn-danger delDetail\">删除</button></td>" +
                    "</tr>>"
            })
            openElement(elements, "orthoCode1And6");
        })

        form.on('submit(selectNotWinSubmit)', function(obj){
            if (inputNumber === null) {
                layer.msg("请选择自选不中类型！")
                return false;
            }

            if (inputNumberList.length != inputNumber) {
                layer.msg("请勾选自选不中号码！")
                return false;
            }
            if (obj.field.money == "") {
                layer.msg("请输入下注金额！")
                return false;
            }

            let data = affirmOrder(obj.field)
            if (data.length == 0) {
                layer.msg("请下注后再提交！")
                return false;
            }
            let param = {}
            param.type = joinType
            param.money = obj.field.money
            param.value = inputNumberList
            let result = [];
            result.push(param)
            let elements = ""
            submitData = result
            $.each(result, function(index, value){
                let number = parseInt(index) + 1
                elements += "<tr>" +
                    "<td>" + number + "</td>" +
                    "<td>自选不中</td>" +
                    "<td>"  + value.type + "：" + value.value.join(",") + "</td>" +
                    "<td>" + value.money + "</td>" +
                    "<td><button number='"+index+"' class=\"layui-btn layui-btn-sm layui-btn-danger delDetail\">删除</button></td>" +
                    "</tr>>"
            })
           openElement(elements, "selectNotWin");
        })
    });
</script>